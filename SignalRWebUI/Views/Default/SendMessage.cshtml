@model CreateMessageDto
<section class="book_section layout_padding">
    <div class="container">
        <div class="heading_container">
            <h2>
                 Bize Ulaşın
            </h2>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="form_container">
                    <form method="post" asp-action="SendMessage" asp-controller="Default">
                        <div>
                            <input type="text" class="form-control" placeholder="Adınız Soyadınız" asp-for="NameSurname" />
                        </div>
                        <div>
                            <input type="number" class="form-control" placeholder="Numaranız" asp-for="Phone" />
                        </div>
                        <div>
                            <input type="email" class="form-control" placeholder="Mailiniz" asp-for="Mail" />
                        </div>
                        <div>
                            <input type="text" class="form-control" placeholder="Konu" asp-for="Subject" />
                        </div>
                        <div>
                            <textarea class="form-control" placeholder="Mesajınızı Giriniz.." asp-for="MessageContent"></textarea>
                        </div>
                        <div class="btn_box">
                            <button>
                                Mesajı Gönder
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="col-md-6">
                <div class="map_container">
                    <iframe src="@ViewBag.location" width="600" height="450"
                            style="border:0;" allowfullscreen="" loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>
        </div>
    </div>
</section>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const status = '@TempData["MessageStatus"]';

            if (status === "Success") {
                Swal.fire({
                    icon: 'success',
                    title: 'Mesaj Gönderildi!',
                    text: 'Bize ulaştığınız için teşekkürler.',
                    confirmButtonText: 'Tamam'
                });
            }
            else if (status === "Error") {
                Swal.fire({
                    icon: 'error',
                    title: 'Gönderilemedi!',
                    text: 'Bir hata oluştu, lütfen tekrar deneyin.',
                    confirmButtonText: 'Tamam'
                });
            }
        });
    </script>
